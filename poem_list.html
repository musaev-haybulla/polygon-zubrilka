<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Управление озвучками стихотворений</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
  <script defer src="https://cdn.jsdelivr.net/npm/@alpinejs/collapse@3.x.x/dist/cdn.min.js"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
  <style>
    body {
      background-color: #f5f5f5;
    }
    .flat-card {
      background: white;
      border: none;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      margin-bottom: 16px;
      display: flex;
      padding: 0;
    }
    .poem-content {
      padding: 20px;
      flex-grow: 1;
    }
    .voiceover-panel {
      flex-shrink: 0;
      width: 350px;
      padding: 20px;
    }
    .voiceover-panel-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 16px;
    }
    .voiceover-item {
      border-radius: 6px;
      padding: 10px 0;
      margin-bottom: 8px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .voiceover-item strong {
        font-weight: normal;
        font-size: 0.9rem;
    }
    .filter-section {
      background: white;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      padding: 20px;
      margin-bottom: 24px;
    }
    .poem-text {
      color: #495057;
    }
    .icon-btn {
      background: none;
      border: none;
      color: #6c757d;
      padding: 4px 8px;
      border-radius: 50%;
      transition: background-color 0.2s, color 0.2s;
    }
    .icon-btn:hover {
      background-color: #e9ecef;
      color: #212529;
    }
    .icon-btn.add-btn {
      background-color: #e9ecef;
    }
    .icon-btn.add-btn:hover {
      background-color: #d1d5db;
    }
    .badge-gender-female { background-color: #fce4ec; color: #880e4f; }
    .badge-gender-male { background-color: #e3f2fd; color: #0d47a1; }
    .badge-voice-live { background-color: #e8f5e9; color: #1b5e20; }
    .badge-voice-ai { background-color: #f3e5f5; color: #4a148c; }
  </style>
</head>
<body>
<div class="container py-4" x-data="filterData()">
  <h2 class="fw-bold mb-1">Управление озвучками стихотворений</h2>
  <p class="text-muted mb-4">Управляйте и организуйте озвучки стихотворений</p>

  <!-- Фильтры -->
  <div class="filter-section">
    <form class="row g-3 align-items-center">
      <div class="col-md-3">
        <label class="form-label">Возрастная группа</label>
        <select class="form-select" x-model="selectedAgeGroup">
          <option value="all">Все возрасты</option>
          <option value="young">Младшие</option>
          <option value="middle">Средние</option>
          <option value="senior">Старшие</option>
        </select>
      </div>
      <div class="col-md-3">
        <label class="form-label">Размер</label>
        <select class="form-select" x-model="selectedSize">
          <option value="all">Все размеры</option>
          <option value="large">Крупный</option>
          <option value="medium">Средний</option>
          <option value="small">Маленький</option>
        </select>
      </div>
      <div class="col-md-3">
        <label class="form-label">Без озвучки</label>
        <div class="form-check form-switch">
          <input class="form-check-input" type="checkbox" x-model="showOnlyWithoutVoiceovers">
          <label class="form-check-label">Только без озвучки</label>
        </div>
      </div>
      <div class="col-md-3">
        <label class="form-label">&nbsp;</label>
        <div>
          <button type="button" class="btn btn-outline-secondary btn-sm" @click="resetFilters()">
            Сбросить фильтры
          </button>
        </div>
      </div>
    </form>
  </div>

  <!-- Список стихотворений -->
  <div class="row g-0">
    <!-- The Road Not Taken -->
    <div class="col-12" data-has-voiceovers="true" data-age-group="senior" data-size="large" x-show="isVisible($el)">
      <div class="flat-card" x-data="{ expanded: false }">
        <div class="poem-content">
          <h5 class="mb-1">Дорога, не выбранная мной</h5>
          <p class="text-muted mb-2">Роберт Фрост</p>
          <div class="mb-3">
            <span class="badge bg-primary">Старшие</span>
            <span class="badge bg-warning text-dark">Крупный</span>
          </div>
          <div class="poem-text fst-italic">
            <p>Две дороги разошлись в осеннем лесу,<br>И, жаль, я не мог пойти по обеим,<br>Будучи одним путником, я долго стоял<br>И смотрел на одну, как мог, далеко.</p>
            <div x-show="expanded" x-collapse.duration.500ms>
              <p>Затем взял другую, столь же прекрасную,<br>И, возможно, имевшую лучшее право,<br>Потому что она была травяниста и хотела носки;<br>Хотя что до проходящих там.</p>
            </div>
            <button @click="expanded = !expanded" class="btn btn-link p-0" x-text="expanded ? 'Свернуть' : 'Развернуть полностью'"></button>
          </div>
        </div>
        <div class="voiceover-panel">
          <div class="voiceover-panel-header">
            <h6 class="mb-0 text-muted">Озвучки (2)</h6>
            <button class="icon-btn add-btn"><i class="bi bi-plus-lg"></i></button>
          </div>
          <div class="voiceover-item">
            <div>
              <strong class="d-block">Сара Джонсон</strong>
              <div>
                <span class="badge rounded-pill me-1 badge-gender-female">Жен.</span>
                <span class="badge rounded-pill badge-voice-live">Живой голос</span>
              </div>
            </div>
            <div>
              <button class="icon-btn"><i class="bi bi-pencil"></i></button>
              <button class="icon-btn"><i class="bi bi-trash"></i></button>
            </div>
          </div>
          <div class="voiceover-item">
            <div>
              <strong class="d-block">Майкл Чен</strong>
              <div>
                <span class="badge rounded-pill me-1 badge-gender-male">Муж.</span>
                <span class="badge rounded-pill badge-voice-live">Живой голос</span>
              </div>
            </div>
            <div>
              <button class="icon-btn"><i class="bi bi-pencil"></i></button>
              <button class="icon-btn"><i class="bi bi-trash"></i></button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Twinkle, Twinkle, Little Star -->
    <div class="col-12" data-has-voiceovers="true" data-age-group="young" data-size="small" x-show="isVisible($el)">
        <div class="flat-card" x-data="{ expanded: false }">
            <div class="poem-content">
                <h5 class="mb-1">Мерцай, мерцай, маленькая звезда</h5>
                <p class="text-muted mb-2">Джейн Тейлор</p>
                <div class="mb-3">
                    <span class="badge bg-info text-dark">Младшие</span>
                    <span class="badge bg-success">Маленький</span>
                </div>
                <div class="poem-text fst-italic">
                    <p>Мерцай, мерцай, звездочка,<br>Как мне интересно, что ты такое!<br>Высоко над миром,<br>Как алмаз в небе.</p>
                    <div x-show="expanded" x-collapse.duration.500ms>
                        <p>Когда палящее солнце исчезает,<br>Когда ничего не светит,<br>Тогда ты показываешь свой маленький свет,<br>Мерцай, мерцай, всю ночь.</p>
                    </div>
                    <button @click="expanded = !expanded" class="btn btn-link p-0" x-text="expanded ? 'Свернуть' : 'Развернуть полностью'"></button>
                </div>
            </div>
            <div class="voiceover-panel">
                <div class="voiceover-panel-header">
                    <h6 class="mb-0 text-muted">Озвучки (1)</h6>
                    <button class="icon-btn add-btn"><i class="bi bi-plus-lg"></i></button>
                </div>
                <div class="voiceover-item">
                    <div>
                        <strong class="d-block">Эмма Уилсон</strong>
                        <div>
                            <span class="badge rounded-pill me-1 badge-gender-female">Жен.</span>
                            <span class="badge rounded-pill badge-voice-ai">ИИ</span>
                        </div>
                    </div>
                    <div>
                        <button class="icon-btn"><i class="bi bi-pencil"></i></button>
                        <button class="icon-btn"><i class="bi bi-trash"></i></button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Stopping by Woods on a Snowy Evening -->
    <div class="col-12" data-has-voiceovers="false" data-age-group="middle" data-size="medium" x-show="isVisible($el)">
        <div class="flat-card" x-data="{ expanded: false }">
            <div class="poem-content">
                <h5 class="mb-1">Остановка у леса в снежный вечер</h5>
                <p class="text-muted mb-2">Роберт Фрост</p>
                <div class="mb-3">
                    <span class="badge bg-secondary">Средние</span>
                    <span class="badge bg-danger">Средний</span>
                </div>
                <div class="poem-text fst-italic">
                    <p>Чей это лес, я, кажется, знаю.<br>Его дом, однако, в деревне;<br>Он не увидит, как я здесь остановился,<br>Чтобы посмотреть, как его лес наполняется снегом.</p>
                    <div x-show="expanded" x-collapse.duration.500ms>
                        <p>Моя лошадка, должно быть, считает это странным<br>Останавливаться без фермерского дома поблизости<br>Между лесом и замерзшим озером<br>Самый темный вечер года.</p>
                    </div>
                    <button @click="expanded = !expanded" class="btn btn-link p-0" x-text="expanded ? 'Свернуть' : 'Развернуть полностью'"></button>
                </div>
            </div>
            <div class="voiceover-panel">
                <div class="voiceover-panel-header">
                    <h6 class="mb-0 text-muted">Озвучки (0)</h6>
                    <button class="icon-btn add-btn"><i class="bi bi-plus-lg"></i></button>
                </div>
                <div class="text-muted text-center pt-3">Нет озвучек</div>
            </div>
        </div>
    </div>
  </div>
</div>

<script>
function filterData() {
  return {
    showOnlyWithoutVoiceovers: false,
    selectedAgeGroup: 'all',
    selectedSize: 'all',

    isVisible(element) {
      const hasVoiceovers = element.dataset.hasVoiceovers === 'true';
      const ageGroup = element.dataset.ageGroup;
      const size = element.dataset.size;

      if (this.showOnlyWithoutVoiceovers && hasVoiceovers) return false;
      if (this.selectedAgeGroup !== 'all' && ageGroup !== this.selectedAgeGroup) return false;
      if (this.selectedSize !== 'all' && size !== this.selectedSize) return false;

      return true;
    },

    resetFilters() {
      this.showOnlyWithoutVoiceovers = false;
      this.selectedAgeGroup = 'all';
      this.selectedSize = 'all';
    }
  }
}
</script>
</body>
</html>